<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Task Calendar & Timeline</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet">
</head>
<body>
  <h1>Task Viewer</h1>
  <div class="controls">
    <button id="btn-new">New Task</button>
    <button id="btn-add">Add Task</button>
    <button id="btn-update" disabled>Update Task</button>
    <button id="btn-delete" disabled>Delete Task</button>
    <button id="btn-clear">Clear All</button>
    <button id="btn-save-server">Save to Server</button>
  </div>

  <form id="task-form">
    <input type="hidden" id="task-id">
    <label>Title: <input type="text" id="task-title"></label>
    <label>Description: <textarea id="task-desc"></textarea></label>
    <label>Completed: <input type="checkbox" id="task-completed"></label>
    <label>Start: <input type="datetime-local" id="task-start"></label>
    <label>End: <input type="datetime-local" id="task-end"></label>
  </form>

  <div id="calendar"></div>

  <h2>One-Day Timeline (<span id="timeline-day-label">Today</span>)</h2>
  <div id="timeline" class="timeline"></div>

  <h2>All Tasks (<span id="task-count">0</span>)</h2>
  <table>
    <thead>
      <tr>
        <th>Title</th>
        <th>Start</th>
        <th>End</th>
        <th>Done</th>
      </tr>
    </thead>
    <tbody id="task-table"></tbody>
  </table>

  <!-- libs -->
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>
  <!-- calendar logic -->
  <script src="calendar.js"></script>
  <!-- app logic -->
  <script src="app.js"></script>
  <script>
    (async () => {
      await window.App.loadFromServer();
      window.App.initUI();
    })();
  </script>
</body>
</html>